{"version":3,"file":"static/js/600.2540d3bb.chunk.js","mappings":"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","sources":["components/common/Avatar/index.jsx","components/common/Like/index.jsx","components/common/ModalWindow/index.jsx","components/common/PostEditor/index.jsx","components/common/SubscriptionButton/index.jsx","components/pages/PostPage/index.jsx","components/ui/PostMenu/index.jsx","utils/formatDate.js"],"sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Avatar = ({ url, size }) => {\r\n  return (\r\n    <div className={(size ? `w-[${size}px] h-[${size}px]` : \"w-10 h-10\") + \" rounded-full overflow-hidden\"}>\r\n      <img\r\n        className=\"w-full h-full\"\r\n        src={url}\r\n        alt=\"avatar\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nAvatar.defaultProps = {\r\n  url: \"https://i.pravatar.cc/100\"\r\n};\r\n\r\nAvatar.propTypes = {\r\n  url: PropTypes.string,\r\n  size: PropTypes.number\r\n};\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport Icon from \"../Icon\";\r\n\r\nconst Like = () => {\r\n  return (\r\n    <button className=\"cursor-pointer hover:text-my-green-200 flex items-center justify-center hover:text-my-green-200\">\r\n      <Icon name=\"heart\" />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React, { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Icon from \"../Icon\";\r\n\r\nconst ModalWindow = ({ children, handleClose }) => {\r\n  const background = useRef(null);\r\n  const handleClick = (e) => {\r\n    if (e.target === background.current) handleClose(false);\r\n  };\r\n  return (\r\n    <div\r\n      onClick={handleClick}\r\n      ref={background}\r\n      className=\"fixed top-0 left-0 bottom-0 right-0 w-screen h-screen z-[9999] bg-black/70 flex justify-center items-center\"\r\n    >\r\n      <div className=\"relative bg-white p-5 rounded-lg w-full max-w-screen-lg h-[700px]\">\r\n        <button\r\n          onClick={() => handleClose(false)}\r\n          className=\"absolute top-5 right-5 z-10\">\r\n          <Icon name=\"close\" className=\"w-7 h-7\" />\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModalWindow.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node\r\n  ]).isRequired,\r\n  handleClose: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ModalWindow;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport postService from \"../../../services/post.service\";\r\nimport BigButton from \"../BigButton\";\r\nimport ModalWindow from \"../ModalWindow\";\r\n\r\nconst PostEditor = ({ postId, title, content, closeEditor, updatePost }) => {\r\n  const [post, setPost] = useState({\r\n    title,\r\n    content\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setPost(prevState => ({ ...prevState, [e.target.name]: e.target.value }));\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    postService.edit({ ...post, postId })\r\n      .then(res => {\r\n        if (res.content.content === post.content) {\r\n          updatePost({ title: res.content.title, content: res.content.content });\r\n        }\r\n      })\r\n      .catch(error => console.error(error));\r\n  };\r\n  return (\r\n    <ModalWindow handleClose={closeEditor}>\r\n      <div className=\"flex flex-col h-full\">\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-3 justify-between h-full\">\r\n      <div className=\"flex flex-col gap-3\">\r\n        <label className=\"flex flex-col gap-2\">\r\n          <span>Заголовок поста</span>\r\n          <input\r\n            value={post.title}\r\n            onChange={handleChange}\r\n            name=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"Заголовок поста\"\r\n            className=\"p-2 rounded shadow-inner border-black/20 border-[1px]\"\r\n          />\r\n        </label>\r\n        <label className=\"flex flex-col gap-2\">\r\n          <span>Текст поста</span>\r\n          <textarea\r\n            value={post.content}\r\n            onChange={handleChange}\r\n            name=\"content\"\r\n            placeholder=\"Текст поста\"\r\n            className=\"p-2 rounded shadow-inner border-black/20 border-[1px]\"\r\n            rows={8}\r\n          >{post.content}</textarea>\r\n        </label>\r\n      </div>\r\n      <div className=\"flex items-center justify-end gap-2\">\r\n        <div>\r\n          <BigButton\r\n            className={\"ml-auto \" + ((post.title === title && post.content === content) ? \"!bg-gray-400 !hover:bg-gray-400 !cursor-default\" : \"\")}\r\n          >Изменить</BigButton>\r\n        </div>\r\n        <div>\r\n          <BigButton\r\n            onClick={closeEditor}\r\n            className=\"ml-auto\"\r\n          >Отмена</BigButton>\r\n        </div>\r\n      </div>\r\n    </form>\r\n      </div>\r\n    </ModalWindow>\r\n  );\r\n};\r\n\r\nPostEditor.propTypes = {\r\n  postId: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  content: PropTypes.string.isRequired,\r\n  closeEditor: PropTypes.func.isRequired,\r\n  updatePost: PropTypes.func.isRequired\r\n};\r\n\r\nexport default PostEditor;\r\n","import React from \"react\";\r\n\r\nconst SubscriptionButton = () => {\r\n  return (\r\n    <button className=\"py-1 px-5 bg-my-green-200 text-white rounded-lg hover:bg-my-green-300 duration-200\">Подписаться</button>\r\n  );\r\n};\r\n\r\nexport default SubscriptionButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Avatar from \"../../common/Avatar\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport SubscriptionButton from \"../../common/SubscriptionButton\";\r\nimport Icon from \"../../common/Icon\";\r\nimport Like from \"../../common/Like\";\r\nimport Loader from \"../../ui/Loader\";\r\nimport postService from \"../../../services/post.service\";\r\nimport formatDate from \"../../../utils/formatDate\";\r\nimport PostMenu from \"../../ui/PostMenu\";\r\nimport PostEditor from \"../../common/PostEditor\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst PostPage = () => {\r\n  const [post, setPost] = useState(null);\r\n  const [onEditPost, setOnEditPost] = useState(false);\r\n  const { postId } = useParams();\r\n  const currentUser = useSelector(state => state.userReducer);\r\n  const homepage = process.env.PUBLIC_URL;\r\n  const history = useHistory();\r\n  // useEffect(() => {\r\n  //   setTimeout(() => {\r\n  //     setData({\r\n  //       comments: [\r\n  //         {\r\n  //           id: 1,\r\n  //           user: {\r\n  //             id: 123,\r\n  //             username: \"tashbenbetov\"\r\n  //           },\r\n  //           date: \"03.12.2018\",\r\n  //           text: \"Прочитал про первый хук и дальше уже читать не стал. Это на уровне старого мема про подключение жуквери для суммирования двух переменных. То есть это на столько простая реализация, что вообще не понятно как она может потянуть на лишнюю зависимость. Но с модалками очень много тонкостей, включая скрытие скролла у документа, закрытие окна по клику в любой части документа за пределами модалки (если она не на весь экран) и т.д. и т.п. Вот если бы хоть часть из этих моментов перекрывалась, то еще имело смысл. А так? Ну такое…\"\r\n  //         },\r\n  //         {\r\n  //           id: 2,\r\n  //           user: {\r\n  //             id: 123,\r\n  //             username: \"tashbenbetov\"\r\n  //           },\r\n  //           date: \"03.12.2018\",\r\n  //           text: \"Прочитал про первый хук и дальше уже читать не стал. Это на уровне старого мема про подключение жуквери для суммирования двух переменных. То есть это на столько простая реализация, что вообще не понятно как она может потянуть на лишнюю зависимость. Но с модалками очень много тонкостей, включая скрытие скролла у документа, закрытие окна по клику в любой части документа за пределами модалки (если она не на весь экран) и т.д. и т.п. Вот если бы хоть часть из этих моментов перекрывалась, то еще имело смысл. А так? Ну такое…\"\r\n  //         },\r\n  //         {\r\n  //           id: 3,\r\n  //           user: {\r\n  //             id: 123,\r\n  //             username: \"tashbenbetov\"\r\n  //           },\r\n  //           date: \"03.12.2018\",\r\n  //           text: \"Прочитал про первый хук и дальше уже читать не стал. Это на уровне старого мема про подключение жуквери для суммирования двух переменных. То есть это на столько простая реализация, что вообще не понятно как она может потянуть на лишнюю зависимость. Но с модалками очень много тонкостей, включая скрытие скролла у документа, закрытие окна по клику в любой части документа за пределами модалки (если она не на весь экран) и т.д. и т.п. Вот если бы хоть часть из этих моментов перекрывалась, то еще имело смысл. А так? Ну такое…\"\r\n  //         }\r\n  //       ]\r\n  //     });\r\n  //   }, 1000);\r\n  // }, []);\r\n\r\n  const handleDeletePost = () => {\r\n    postService.delete(postId)\r\n      .then(res => {\r\n        if (res.content) {\r\n          history.replace(\"/\");\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  const handleEditPost = (newPost) => {\r\n    setOnEditPost(false);\r\n    setPost(prevState => ({ ...prevState, ...newPost }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    postService.get({ postId })\r\n      .then(res => {\r\n        console.log(res);\r\n        setPost(res);\r\n      })\r\n      .catch(error => console.log(error));\r\n    // httpService.get(\"http://localhost:3000/db/post.json\")\r\n    //   .then(res => {\r\n    //     console.log(res.post.content);\r\n    //     setData(res.post.content);\r\n    //   })\r\n    //   .catch(error => console.error(error));\r\n  }, []);\r\n  if (!post) return <Loader />;\r\n  return (\r\n    <>\r\n      {onEditPost && (\r\n        <PostEditor\r\n          closeEditor={() => setOnEditPost(false)}\r\n          updatePost={handleEditPost}\r\n          postId={post._id}\r\n          title={post.title}\r\n          content={post.content}\r\n        />\r\n      )}\r\n      <div className=\"w-full max-w-screen-lg ml-auto my-12\">\r\n      <div className=\"bg-white rounded p-5 flex flex-col gap-5\">\r\n        <div className=\"flex justify-between\">\r\n        <div className=\"flex gap-4 items-center\">\r\n          <Link to={homepage} className=\"flex gap-3 items-center\">\r\n            <Avatar/>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-sm font-medium\">ru_vds</span>\r\n              <span className=\"text-xs text-gray-400\">1,3 млн подписчиков</span>\r\n            </div>\r\n          </Link>\r\n          <SubscriptionButton/>\r\n          <span className=\"text-base text-gray-400\">{formatDate(post.created_at)}</span>\r\n        </div>\r\n        {(currentUser && currentUser._id === post.userId) && (\r\n          <PostMenu\r\n            list={[\r\n              { text: \"Изменить\", action: () => setOnEditPost(true) },\r\n              { text: \"Удалить\", action: handleDeletePost }\r\n            ]}\r\n          />\r\n        )}\r\n      </div>\r\n        <h2 className=\"font-medium text-2xl\">{post.title}</h2>\r\n        <div className=\"flex gap-3 items-center\">\r\n        <div className=\"flex gap-2 items-center\">\r\n          <Like/>\r\n          <span>1245</span>\r\n        </div>\r\n        <div className=\"flex gap-2 items-center\">\r\n          <div>\r\n            <Icon name=\"eye\" />\r\n          </div>\r\n          <span>5456</span>\r\n        </div>\r\n      </div>\r\n      {post.image && (\r\n        <div className=\"rounded-lg overflow-hidden w-full\">\r\n          <img className=\"w-full\" src={`/images/${post.image}`} alt=\"Картинка\"/>\r\n        </div>\r\n      )}\r\n      <div\r\n        className=\"flex flex-col gap-5\"\r\n        dangerouslySetInnerHTML={{ __html: post.content }}\r\n      ></div>\r\n        {/* <p>\r\n          Хочу рассказать о пяти простых React-хуках, которые пригодятся в любом проекте. Причём, полезность этих хуков не зависит от того, в каком именно приложении их будут использовать. Описывая каждый из них, я рассказываю о его реализации и привожу пример его использования в клиентском коде.\r\n        </p>\r\n        <img src={`${homepage}/images/post1_img1.jpg`} alt=\"Картинка\"/>\r\n        <h3 className=\"text-xl font-medium\">Хук useModalState</h3>\r\n        <div className=\"flex flex-col gap-3\">\r\n          <p>\r\n            Модальные окна широко используются в веб-приложениях, они применяются в самых разных ситуациях. При работе с подобными окнами быстро приходит понимание того, что управление их состоянием — это трудоёмкая задача, решая которую, приходится постоянно выполнять одни и те же рутинные действия. А если имеется код, написание которого отнимает немало сил и времени, код, который приходится постоянно повторять в разных местах приложения, это значит, что такой код имеет смысл абстрагировать, оформив в виде самостоятельной сущности. Хук useModalState — это именно такой код, используемый для управления состоянием модальных окон.\r\n          </p>\r\n          <p>\r\n            Собственные версии этого хука предоставляют многие библиотеки. Одна из них — это Chakra UI. Если вас интересуют подробности об этой библиотеке — вот мой материал о ней.\r\n          </p>\r\n          <p>\r\n            Реализация useModalState весьма проста, даже тривиальна. Но опыт подсказывает мне, что гораздо лучше пользоваться им, чем постоянно заново писать код для управления состоянием модальных окон.\r\n          </p>\r\n          <p>Вот код этого хука:</p>\r\n        </div>\r\n        <img src={`${homepage}/images/post1_img2.jpg`} alt=\"Картинка\"/> */}\r\n        {post.tags && (\r\n          <div className=\"flex gap-1\">\r\n            <span>Теги:</span>\r\n            <ul className=\"flex text-sky-500 gap-1\">\r\n              {post.tags.map((tag, index) => <li key={`tag_${index}`} className=\"hover:underline cursor-pointer\">{tag + (index !== post.tags.length - 1 ? \",\" : \"\")}</li>)}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {post.comments && (\r\n        <div className=\"mt-14 p-5 bg-white rounded flex flex-col gap-4\">\r\n          <h3 className=\"font-medium\">Комментарии {post.comments.length}</h3>\r\n          <ul className=\"flex flex-col gap-4\">\r\n            {post.comments.map(({ id, user, date, text }) => (\r\n              <li key={`comment_${id}`}>\r\n                <div className=\"flex gap-3 items-center\">\r\n                  <Link to={`${homepage}/user/${user.id}`} className=\"flex gap-3 items-center\">\r\n                    <Avatar/>\r\n                    <span>{user.username}</span>\r\n                  </Link>\r\n                  <Link to={`${homepage}/user/${user.id}`} className=\"text-sm text-gray-500\">{date}</Link>\r\n                </div>\r\n                <p className=\"mt-2\">\r\n                  {text}\r\n                </p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <div className=\"flex justify-center items-center\">\r\n            <button className=\"py-1 px-5 bg-my-green-200 text-white rounded-lg hover:bg-my-green-300 duration-200\">Загрузить ещё</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostPage;\r\n","import React, { useState } from \"react\";\r\nimport Icon from \"../../common/Icon\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PostMenu = ({ list }) => {\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n  const handleOpenMenu = () => {\r\n    setOpenMenu(prevState => !prevState);\r\n  };\r\n  const handleClick = (action) => {\r\n    setOpenMenu(false);\r\n    action();\r\n  };\r\n  return (\r\n    <div className=\"relative flex items-center\">\r\n      <button onClick={handleOpenMenu} className=\"inline\">\r\n        <Icon name=\"menu\" />\r\n      </button>\r\n      {openMenu && (\r\n        <ul className=\"absolute top-6 right-0 p-4 bg-white shadow-lg rounded-lg\">\r\n          {list.map((item, index) => {\r\n            if (typeof item.action === \"string\") {\r\n              return (\r\n                <li key={`action_${index}`}>\r\n                  <Link to={item.action}>{item.text}</Link>\r\n                </li>\r\n              );\r\n            } else {\r\n              return (\r\n                <li key={`action_${index}`}>\r\n                  <button onClick={() => handleClick(item.action)}>{item.text}</button>\r\n                </li>\r\n              );\r\n            }\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nPostMenu.defaultProps = {\r\n  list: []\r\n};\r\n\r\nPostMenu.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.shape({\r\n    text: PropTypes.string.isRequired,\r\n    action: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.func\r\n    ])\r\n  }))\r\n};\r\n\r\nexport default PostMenu;\r\n","const formatDate = (inputDate) => {\r\n  const date = new Date(inputDate);\r\n\r\n  const day = date.getDate().toString().padStart(2, \"0\");\r\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\r\n  const year = date.getFullYear().toString();\r\n\r\n  return `${day}.${month}.${year}`;\r\n};\r\n\r\nexport default formatDate;\r\n"],"names":["Avatar","_ref","url","size","_jsx","className","concat","children","src","alt","defaultProps","Icon","name","handleClose","background","useRef","onClick","e","target","current","ref","_jsxs","postId","title","content","closeEditor","updatePost","_useState","useState","_useState2","_slicedToArray","post","setPost","handleChange","prevState","_objectSpread","_defineProperty","value","ModalWindow","onSubmit","preventDefault","postService","then","res","catch","error","console","onChange","type","placeholder","rows","BigButton","_useState3","_useState4","onEditPost","setOnEditPost","useParams","currentUser","useSelector","state","userReducer","history","useHistory","useEffect","log","_Fragment","PostEditor","newPost","_id","Link","to","process","SubscriptionButton","formatDate","created_at","userId","PostMenu","list","text","action","replace","Like","image","dangerouslySetInnerHTML","__html","tags","map","tag","index","length","comments","id","user","date","username","Loader","openMenu","setOpenMenu","item","inputDate","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear"],"sourceRoot":""}